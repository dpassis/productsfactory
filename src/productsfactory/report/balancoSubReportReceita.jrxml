<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="balancoSubReportReceita" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="045f0924-fea1-4651-b431-7db5f8b6667f">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="dataInicio" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="dataFim" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT tb_funcionario.nome_funcionario,tb_aluno.nome_aluno,tb_parcela.valor_recebido,tb_parcela.data_pagamento,tb_cursos.descricao_curso
FROM tb_aluno_curso 
INNER JOIN tb_aluno ON (tb_aluno.matricula = tb_aluno_curso.pk_aluno_curso) 
INNER JOIN (tb_aula INNER JOIN tb_cursos ON (tb_cursos.codigo_curso = tb_aula.fk_curso_aula))
INNER JOIN tb_funcionario ON(tb_aula.fk_professor = tb_funcionario.codigo_funcionario)
ON (tb_aluno_curso.pk_aluno_aula = tb_aula.codigo_aula)
INNER JOIN (tb_receita INNER JOIN tb_parcela ON(tb_receita.codigo_receita = tb_parcela.fk_receita))
ON (tb_aluno_curso.fk_receita_aluno = tb_receita.codigo_receita) WHERE tb_parcela.status_parcela = 'Pag. Efetuado'
AND tb_parcela.data_pagamento BETWEEN $P{dataInicio} AND $P{dataFim}]]>
	</queryString>
	<field name="nome_funcionario" class="java.lang.String"/>
	<field name="nome_aluno" class="java.lang.String"/>
	<field name="valor_recebido" class="java.math.BigDecimal"/>
	<field name="data_pagamento" class="java.sql.Date"/>
	<field name="descricao_curso" class="java.lang.String"/>
	<variable name="valor_recebido_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{valor_recebido}]]></variableExpression>
	</variable>
	<variable name="retornoReceita" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{valor_recebido_1} == null ? new BigDecimal(0) : $V{valor_recebido_1}]]></variableExpression>
	</variable>
	<group name="Curso">
		<groupExpression><![CDATA[$F{descricao_curso}]]></groupExpression>
		<groupHeader>
			<band height="50">
				<staticText>
					<reportElement uuid="c6806f8b-c8a0-4e66-b377-ae3cc31a791b" x="15" y="30" width="100" height="20"/>
					<textElement>
						<font size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Professor]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="31b91f5e-1a13-4dbe-9f32-7ace7dd9ae76" x="208" y="30" width="100" height="20"/>
					<textElement>
						<font size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Aluno]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="e58f450a-d9ea-4043-a779-191e07a2351e" x="404" y="30" width="43" height="20"/>
					<textElement textAlignment="Center">
						<font size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Data]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="2729f9b7-bd1b-490b-9692-8aa787429b6e" x="464" y="30" width="86" height="20"/>
					<textElement textAlignment="Center">
						<font size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[Valor]]></text>
				</staticText>
				<textField>
					<reportElement uuid="80d533aa-bd86-4773-8c82-a61cee852bde" x="6" y="0" width="202" height="20"/>
					<textElement>
						<font size="14" isBold="true" isItalic="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{descricao_curso}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="25" splitType="Stretch">
			<staticText>
				<reportElement uuid="0cefc001-f008-45b7-bfdd-43ff63d2a1a5" x="0" y="0" width="555" height="24"/>
				<textElement textAlignment="Center">
					<font size="16" isBold="true"/>
				</textElement>
				<text><![CDATA[Receita (Mensalidades Recebidas no perído)]]></text>
			</staticText>
			<line>
				<reportElement uuid="ef326151-1b72-48ee-983d-b8215ad16f5f" x="0" y="24" width="555" height="1"/>
			</line>
		</band>
	</pageHeader>
	<detail>
		<band height="22" splitType="Stretch">
			<textField>
				<reportElement uuid="9b7d7255-9d14-47fc-9b64-35d8aa42dc1c" x="15" y="0" width="193" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{nome_funcionario}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="b8b95512-a53c-4952-8e5a-6ef69589cb20" x="208" y="0" width="182" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{nome_aluno}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement uuid="407d406b-e729-4fe6-99a3-76c365768244" x="395" y="0" width="69" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{data_pagamento}]]></textFieldExpression>
			</textField>
			<textField pattern="¤ #,##0.00">
				<reportElement uuid="d507f97e-6054-47a8-bd36-b60b3462ef7a" x="469" y="0" width="74" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{valor_recebido}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="33" splitType="Stretch">
			<rectangle>
				<reportElement uuid="357a614f-6ee0-44b7-8cdf-935e4787b0ff" x="308" y="9" width="242" height="21" forecolor="#33CC00"/>
			</rectangle>
			<staticText>
				<reportElement uuid="91104dd4-65b9-4ef4-bbbb-57a5b55aed54" x="311" y="10" width="104" height="20" forecolor="#0000FF"/>
				<textElement>
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Total Receita:]]></text>
			</staticText>
			<textField pattern="¤ #,##0.00" isBlankWhenNull="true">
				<reportElement uuid="a31d27f5-799e-42ed-b0a3-37e1e3aa4ce0" x="415" y="10" width="130" height="20"/>
				<textElement textAlignment="Right">
					<font size="14" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{valor_recebido_1}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
